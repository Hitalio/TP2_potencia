Version 4
SHEET 1 2480 932
WIRE 1696 -528 496 -528
WIRE 1888 -464 1744 -464
WIRE 176 -432 176 -448
WIRE 384 -432 384 -448
WIRE 1408 -432 1408 -464
WIRE 1408 -432 1248 -432
WIRE 1552 -432 1408 -432
WIRE 1248 -416 1248 -432
WIRE 1552 -416 1552 -432
WIRE 592 -400 592 -432
WIRE 272 -384 240 -384
WIRE 320 -384 272 -384
WIRE 1360 -368 1312 -368
WIRE 1488 -368 1360 -368
WIRE 1792 -368 1792 -400
WIRE 592 -336 592 -400
WIRE 1360 -320 1360 -368
WIRE 1360 -320 1248 -320
WIRE 176 -304 176 -336
WIRE 272 -304 272 -384
WIRE 272 -304 176 -304
WIRE 1248 -304 1248 -320
WIRE 1552 -304 1552 -320
WIRE 1792 -304 1792 -368
WIRE 592 -288 592 -336
WIRE 1744 -288 1744 -464
WIRE 1760 -288 1744 -288
WIRE 384 -272 384 -336
WIRE 560 -272 384 -272
WIRE 1888 -272 1888 -464
WIRE 1888 -272 1824 -272
WIRE 704 -256 624 -256
WIRE 736 -256 704 -256
WIRE 1344 -256 1312 -256
WIRE 1488 -256 1344 -256
WIRE 1696 -256 1696 -528
WIRE 1760 -256 1696 -256
WIRE 384 -240 384 -272
WIRE 560 -240 528 -240
WIRE 624 -224 624 -240
WIRE 624 -224 592 -224
WIRE 592 -208 592 -224
WIRE 1024 -192 1024 -240
WIRE 736 -176 736 -256
WIRE 768 -176 736 -176
WIRE 928 -176 864 -176
WIRE 1248 -176 1248 -208
WIRE 1344 -176 1344 -256
WIRE 1344 -176 1248 -176
WIRE 384 -128 384 -160
WIRE 384 -128 352 -128
WIRE 768 -128 736 -128
WIRE 496 -112 496 -528
WIRE 528 -112 528 -240
WIRE 528 -112 496 -112
WIRE 576 -112 576 -128
WIRE 1552 -112 1552 -208
WIRE 1648 -112 1552 -112
WIRE 1696 -112 1696 -256
WIRE 1696 -112 1648 -112
WIRE 1024 -96 1024 -112
WIRE 1104 -96 1024 -96
WIRE 384 -80 384 -128
WIRE 576 -64 576 -112
WIRE 1024 -64 1024 -96
WIRE 1248 -64 1248 -176
WIRE 1552 -64 1552 -112
WIRE 576 -32 576 -64
WIRE 528 -16 528 -112
WIRE 544 -16 528 -16
WIRE 1104 -16 1104 -96
WIRE 1104 -16 1088 -16
WIRE 1168 -16 1104 -16
WIRE 1184 -16 1168 -16
WIRE 1632 -16 1616 -16
WIRE 672 0 608 0
WIRE 736 0 736 -128
WIRE 736 0 672 0
WIRE 384 16 384 0
WIRE 544 16 384 16
WIRE 608 32 608 16
WIRE 608 32 576 32
WIRE 576 48 576 32
WIRE 1168 64 1168 -16
WIRE 1632 64 1632 -16
WIRE 1632 64 1168 64
WIRE 1024 80 1024 32
WIRE 1248 96 1248 32
WIRE 1552 96 1552 32
WIRE 1024 208 1024 160
WIRE 592 224 512 224
WIRE 624 224 592 224
WIRE 736 224 704 224
WIRE 1248 240 1248 176
WIRE 1376 240 1248 240
WIRE 1552 240 1552 176
WIRE 1680 240 1552 240
WIRE 1376 256 1376 240
WIRE 1680 256 1680 240
WIRE 176 272 176 -304
WIRE 384 272 384 16
WIRE 592 272 592 224
WIRE 1248 272 1248 240
WIRE 1552 272 1552 240
WIRE 1248 288 1248 272
WIRE 1552 288 1552 272
WIRE 448 320 240 320
WIRE 512 320 512 224
WIRE 512 320 448 320
WIRE 528 320 512 320
WIRE 1328 352 1296 352
WIRE 1376 352 1376 336
WIRE 1632 352 1600 352
WIRE 1680 352 1680 336
WIRE 592 400 592 368
WIRE 592 400 512 400
WIRE 928 416 928 -176
WIRE 1632 416 1632 352
WIRE 1632 416 928 416
WIRE 176 432 176 368
WIRE 384 432 384 368
WIRE 592 432 592 400
WIRE 880 448 880 -128
WIRE 1328 448 1328 352
WIRE 1328 448 880 448
WIRE 448 480 240 480
WIRE 512 480 512 400
WIRE 512 480 448 480
WIRE 528 480 512 480
WIRE 1248 496 1248 368
WIRE 1408 496 1248 496
WIRE 1552 496 1552 368
WIRE 1552 496 1408 496
WIRE 1408 528 1408 496
FLAG 80 -80 0
FLAG 352 -128 V6
FLAG 80 -160 V12
FLAG 384 -528 V12
FLAG 176 -528 V12
FLAG 1792 -240 0
FLAG 1792 -400 V12
FLAG 1024 208 0
FLAG 1680 352 V6
FLAG 1376 352 V6
FLAG 1024 -240 V40
FLAG 1696 -48 0
FLAG 1408 -464 V12
FLAG 1648 -112 Out
FLAG 80 96 0
FLAG 80 16 V6
FLAG 1408 528 0
FLAG 704 -336 V6
FLAG 672 -80 V6
FLAG 80 256 0
FLAG 80 176 V40
FLAG 736 224 V40
FLAG 592 528 0
FLAG 384 528 0
FLAG 176 528 0
FLAG 592 -208 0
FLAG 592 -432 V12
FLAG 576 48 0
FLAG 576 -128 V12
FLAG 528 -336 0
FLAG 528 -400 0
FLAG 640 -64 0
FLAG 640 -112 0
FLAG 1856 -368 0
SYMBOL npn 240 272 M0
SYMATTR InstName Q1
SYMATTR Value BC548B
SYMBOL npn 448 272 M0
SYMATTR InstName Q2
SYMATTR Value BC548B
SYMBOL npn 528 272 R0
SYMATTR InstName Q3
SYMATTR Value BC548B
SYMBOL pnp 240 -336 R180
SYMATTR InstName Q4
SYMATTR Value BC558C
SYMBOL pnp 320 -336 M180
SYMATTR InstName Q5
SYMATTR Value BC558C
SYMBOL res 368 -256 R0
SYMATTR InstName R1
SYMATTR Value 2500
SYMBOL res 368 -96 R0
SYMATTR InstName R2
SYMATTR Value 2500
SYMBOL voltage 80 -176 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 99 Left 2
SYMATTR Value 12
SYMATTR InstName V1
SYMBOL Digital\\srflop 816 -224 R0
WINDOW 3 -40 28 Left 2
SYMATTR Value Ic=1
SYMATTR InstName A1
SYMATTR Value2 VHIGH=5
SYMBOL Opamps\\opamp2 1792 -336 R0
SYMATTR InstName U5
SYMATTR Value TL081
SYMBOL npn 1184 -64 R0
SYMATTR InstName Q6
SYMATTR Value BC548B
SYMBOL npn 1616 -64 M0
SYMATTR InstName Q7
SYMATTR Value BC548B
SYMBOL res 1232 80 R0
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL res 1536 80 R0
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL res 1664 240 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 1360 240 R0
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL npn 1088 -64 M0
SYMATTR InstName Q8
SYMATTR Value BC548B
SYMBOL res 1008 64 R0
SYMATTR InstName R8
SYMATTR Value 100
SYMBOL res 1008 -208 R0
SYMATTR InstName R9
SYMATTR Value 1500
SYMBOL cap 1680 -112 R0
SYMATTR InstName CL
SYMATTR Value 9.4n
SYMBOL pnp 1488 -208 M180
SYMATTR InstName Q9
SYMATTR Value BC558C
SYMBOL pnp 1312 -208 R180
SYMATTR InstName Q10
SYMATTR Value BC558C
SYMBOL voltage 80 0 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 3 24 101 Left 2
SYMATTR Value 6
SYMATTR InstName V6
SYMBOL res 688 -352 R0
SYMATTR InstName R12
SYMATTR Value 500
SYMBOL res 656 -96 R0
SYMATTR InstName R13
SYMATTR Value 500
SYMBOL res 160 -544 R0
SYMATTR InstName R14
SYMATTR Value 33
SYMBOL res 368 -544 R0
SYMATTR InstName R15
SYMATTR Value 33
SYMBOL res 720 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 50k
SYMBOL voltage 80 160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 40
SYMBOL nmos 1296 272 M0
SYMATTR InstName M1
SYMATTR Value BS170
SYMATTR Prefix X
SYMBOL nmos 1600 272 M0
SYMATTR InstName M2
SYMATTR Value BS170
SYMATTR Prefix X
SYMBOL npn 528 432 R0
SYMATTR InstName Q11
SYMATTR Value BC548B
SYMBOL npn 448 432 M0
SYMATTR InstName Q12
SYMATTR Value BC548B
SYMBOL npn 240 432 M0
SYMATTR InstName Q13
SYMATTR Value BC548B
SYMBOL pnp 1312 -320 R180
SYMATTR InstName Q14
SYMATTR Value BC558C
SYMBOL pnp 1488 -320 M180
SYMATTR InstName Q15
SYMATTR Value BC558C
SYMBOL xcomp_x11 592 -320 R0
SYMATTR InstName U3
SYMATTR Value LM311
SYMBOL xcomp_x11 576 -64 R0
SYMATTR InstName U1
SYMATTR Value LM311
SYMBOL cap 592 -416 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL cap 592 -352 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL cap 640 -128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 100µ
SYMBOL cap 640 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 100µ
SYMBOL cap 1856 -384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 0.1µ
TEXT 408 624 Left 2 !.include standard_bjt.lib
TEXT 168 584 Left 2 !.tran 0 100u 20u
TEXT 408 600 Left 2 !.include LM393.5_1
TEXT 408 648 Left 2 !.include TL081.301
TEXT 408 672 Left 2 !.model MySW SW(Vt=1 Vh=-0.4  Ron=0.01p Roff = 1meg)
TEXT 408 576 Left 2 !.inc bs170.lib
TEXT 760 576 Left 2 !.inc LM311.301
